(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{559:function(t,a,s){"use strict";s.r(a);var e=s(34),v=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"网络分层模型和应用协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络分层模型和应用协议"}},[t._v("#")]),t._v(" 网络分层模型和应用协议")]),t._v(" "),s("h2",{attrs:{id:"分层模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分层模型"}},[t._v("#")]),t._v(" 分层模型")]),t._v(" "),s("h3",{attrs:{id:"分层的意义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分层的意义"}},[t._v("#")]),t._v(" 分层的意义")]),t._v(" "),s("p",[t._v("当遇到一个复杂问题的时候，可以使用分层的思想把问题简单化")]),t._v(" "),s("p",[t._v("比如，你有半杯82年的可乐，想分享给你的朋友王富贵，但你们已经10年没有联系了。要完成这件事，你可能要考虑：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("我用什么装可乐？")]),t._v(" "),s("p",[t._v("可能的方案：塑料瓶、玻璃瓶、煤气罐")])]),t._v(" "),s("li",[s("p",[t._v("怎么保证可乐始终处于低温？")]),t._v(" "),s("p",[t._v("可能的方案：保温杯、小冰箱、冰盒")])]),t._v(" "),s("li",[s("p",[t._v("如何保证可乐不被运输的人偷喝？")]),t._v(" "),s("p",[t._v("可能的方案：封条、在上面写「毒药」")])]),t._v(" "),s("li",[s("p",[t._v("如何获取王富贵的地址？")]),t._v(" "),s("p",[t._v("可能的方案：报案失踪、联系私人侦探、联系物流公司的朋友")])]),t._v(" "),s("li",[s("p",[t._v("如何运输？")]),t._v(" "),s("p",[t._v("可能的方案：自行车、汽车、火车、高铁、飞机、火箭")])])]),t._v(" "),s("p",[t._v("这就形成了一个分层结构")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/01.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("从常理出发，我们可以得出以下结论：")]),t._v(" "),s("ul",[s("li",[t._v("每层相对独立，只需解决自己的问题")]),t._v(" "),s("li",[t._v("每层无须考虑上层的交付，仅需把自己的结果交给下层即可")]),t._v(" "),s("li",[t._v("每层有多种方案可供选择，选择不同的方案不会对上下层造成影响")]),t._v(" "),s("li",[t._v("每一层会在上一层的基础上增加一些额外信息")])]),t._v(" "),s("h3",{attrs:{id:"五层网络模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五层网络模型"}},[t._v("#")]),t._v(" 五层网络模型")]),t._v(" "),s("p",[t._v("网络要解决的问题是："),s("strong",[t._v("两个程序之间如何交换数据")]),t._v("。")]),t._v(" "),s("p",[t._v("这是一个非常复杂的问题，因为两个程序有可能出现在不同的设备上。")]),t._v(" "),s("p",[t._v("面对复杂的问题，可以使用分层的方式来简化。")]),t._v(" "),s("p",[t._v("经过不断的演化，网络最终形成了五层模型：")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/02.png"),alt:"图片"}}),t._v(" "),s("h3",{attrs:{id:"数据的传输"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据的传输"}},[t._v("#")]),t._v(" 数据的传输")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/03.png"),alt:"图片"}}),t._v(" "),s("h3",{attrs:{id:"四层、五层、七层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四层、五层、七层"}},[t._v("#")]),t._v(" 四层、五层、七层")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/04.png"),alt:"图片"}}),t._v(" "),s("h2",{attrs:{id:"应用层协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用层协议"}},[t._v("#")]),t._v(" 应用层协议")]),t._v(" "),s("h3",{attrs:{id:"url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url"}},[t._v("#")]),t._v(" URL")]),t._v(" "),s("p",[t._v("URL（uniform resource locator，统一资源定位符）用于定位网络服务")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/05.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("URL是一个固定格式的字符串")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/06.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("它表达了：")]),t._v(" "),s("p",[t._v("从网络中==哪台计算机（domain）==中的==哪个程序（port）==寻找==哪个服务（path）==，并注明了获取服务的==具体细节（query）==，以及要用什么样的==协议通信（schema）==")]),t._v(" "),s("p",[t._v("这里面包含了一些细节：")]),t._v(" "),s("ul",[s("li",[t._v("当协议是"),s("code",[t._v("http")]),t._v("端口为"),s("code",[t._v("80")]),t._v("时，端口可以省略")]),t._v(" "),s("li",[t._v("当协议是"),s("code",[t._v("https")]),t._v("端口为"),s("code",[t._v("443")]),t._v("时，端口可以省略")]),t._v(" "),s("li",[s("code",[t._v("schema")]),t._v("、"),s("code",[t._v("domain")]),t._v("、"),s("code",[t._v("path")]),t._v("是必填的，其他的根据具体的要求填写")])]),t._v(" "),s("h3",{attrs:{id:"http"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),s("p",[t._v("超文本传输协议（Hyper Text Transfer Protocol，"),s("em",[t._v("HTTP")]),t._v("）是一个广泛运用于互联网的应用层协议。")]),t._v(" "),s("p",[t._v("99%的情况下，前端开发者接触的都是HTTP协议。")]),t._v(" "),s("p",[t._v("该协议规定了两个方面的内容：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("传递消息的模式")])]),t._v(" "),s("li",[s("strong",[t._v("传递消息的格式")])])]),t._v(" "),s("h4",{attrs:{id:"传递消息的模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传递消息的模式"}},[t._v("#")]),t._v(" 传递消息的模式")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/07.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("HTTP使用了一种极为简单的消息传递模式，「请求-响应」模式")]),t._v(" "),s("p",[t._v("发起请求的称之为客户端，接收请求并完成响应的称之为服务器。")]),t._v(" "),s("p",[t._v("「请求-响应」完成后，一次交互结束。")]),t._v(" "),s("h4",{attrs:{id:"传递消息的格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传递消息的格式"}},[t._v("#")]),t._v(" 传递消息的格式")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/08.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("HTTP的消息格式是一种纯文本的格式，文本分为三个部分：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("请求行\n请求头\n\n请求体\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[s("strong",[t._v("具体每一部分写什么内容，要看具体的服务要求")])]),t._v(" "),s("h4",{attrs:{id:"试一试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#试一试"}},[t._v("#")]),t._v(" 试一试")]),t._v(" "),s("p",[t._v("有非常多的工具可以发送http请求，这里推荐一个非常直观的工具")]),t._v(" "),s("ol",[s("li",[t._v("安装"),s("code",[t._v("vscode")]),t._v("插件"),s("code",[t._v("REST Clinet")])])]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/09.png"),alt:"图片"}}),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("新建文件"),s("code",[t._v("xxx.http")])])]),t._v(" "),s("li",[s("p",[t._v("编写请求文本")]),t._v(" "),s("div",{staticClass:"language-http line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/api/user/login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header"}},[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("study.duyiedu.com")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header"}},[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"loginId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"loginPwd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123123"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("发送请求")])])]),t._v(" "),s("h4",{attrs:{id:"熟悉关键信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#熟悉关键信息"}},[t._v("#")]),t._v(" 熟悉关键信息")]),t._v(" "),s("h5",{attrs:{id:"请求方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求方法"}},[t._v("#")]),t._v(" 请求方法")]),t._v(" "),s("p",[t._v("请求行中的第一个单词是请求方法")]),t._v(" "),s("p",[s("strong",[t._v("在HTTP协议中，请求方法仅有语义的区别")]),t._v("，只是表达了这次请求的「愿望」。")]),t._v(" "),s("blockquote",[s("p",[t._v("关于请求方法的协议原文见 "),s("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc7231.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP/1.1规范RFC7231-Chapter4"),s("OutboundLink")],1)])]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/10.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("比如"),s("code",[t._v("GET")]),t._v("表达了客户端想要获取一些东西，"),s("code",[t._v("POST")]),t._v("表达了客户端想要提交一些东西")]),t._v(" "),s("p",[t._v("常见的请求方法有：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("GET")]),t._v("：获取")]),t._v(" "),s("li",[s("code",[t._v("POST")]),t._v("：提交")]),t._v(" "),s("li",[s("code",[t._v("PUT")]),t._v("：修改")]),t._v(" "),s("li",[s("code",[t._v("DELETE")]),t._v("：删除")])]),t._v(" "),s("p",[s("strong",[t._v("具体在开发中应该选择什么请求方法，一定是看服务方的要求")])]),t._v(" "),s("p",[t._v("通常情况下：")]),t._v(" "),s("ul",[s("li",[t._v("获取数据一般使用"),s("code",[t._v("GET")])]),t._v(" "),s("li",[t._v("提交数据一般使用"),s("code",[t._v("POST")])]),t._v(" "),s("li",[t._v("各种静态资源的获取，一般使用"),s("code",[t._v("GET")])])]),t._v(" "),s("h5",{attrs:{id:"请求头-host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求头-host"}},[t._v("#")]),t._v(" 请求头 - "),s("code",[t._v("Host")])]),t._v(" "),s("p",[s("code",[t._v("Host")]),t._v("标注了"),s("code",[t._v("URL")]),t._v("地址中的"),s("code",[t._v("Domain + Port")])]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Host: study.duyiedu.com\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h5",{attrs:{id:"请求头-content-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求头-content-type"}},[t._v("#")]),t._v(" 请求头 - "),s("code",[t._v("Content-Type")])]),t._v(" "),s("p",[s("code",[t._v("Content-Type")]),t._v("标注了附带的请求体是什么格式")]),t._v(" "),s("p",[t._v("比如，请求体的数据为"),s("code",[t._v("loginId:admin, loginPwd:123456")]),t._v("，请求体可以用不同的格式发出")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Type: application/x-www-form-urlencoded\n\nloginId=admin&loginPwd=123123\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('Content-Type: application/json\n\n{ "loginId": "admin", "loginPwd": "123123" }\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('Content-Type: multipart/form-data; boundary=aaa\n\n--aaa\nContent-Disposition: form-data; name="loginId"\n\nadmin\n--aaa\nContent-Disposition: form-data; name="loginPwd"\n\n123456\n--aaa\nContent-Disposition: form-data; name="avatar"; filename="small.jpg"\nContent-Type: image/jpeg\n\n文件的二进制\n--aaa--\n\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("h5",{attrs:{id:"响应码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#响应码"}},[t._v("#")]),t._v(" 响应码")]),t._v(" "),s("p",[t._v("响应码（状态码、消息码）是响应行中的一个数字，后面往往跟上一个对应的单词，用于表达服务器对这个响应的整体「态度」")]),t._v(" "),s("p",[t._v("常见的响应码有：")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/img/network/11.png"),alt:"图片"}}),t._v(" "),s("p",[t._v("常见的状态码有：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("200 OK：一切正常。")])]),t._v(" "),s("li",[s("p",[t._v("301 Moved Permanently：资源已被永久重定向。")]),t._v(" "),s("p",[s("code",[t._v("你的请求我收到了，但是呢，你要的东西不在这个地址了，我已经永远的把它移动到了一个新的地址，麻烦你取请求新的地址，地址我放到了响应头的Location中了")])]),t._v(" "),s("blockquote",[s("p",[t._v("试试请求：www.douyutv.com")])])]),t._v(" "),s("li",[s("p",[t._v("302 Found：资源已被临时重定向。")]),t._v(" "),s("p",[s("code",[t._v("你的请求我收到了，但是呢，你要的东西不在这个地址了，我临时的把它移动到了一个新的地址，麻烦你取请求新的地址，地址我放到了请求头的Location中了")])])]),t._v(" "),s("li",[s("p",[t._v("304 Not Modified：文档内容未被修改。")]),t._v(" "),s("p",[s("code",[t._v("你的请求我收到了，你要的东西跟之前是一样的，没有任何的变化，所以我就不给你结果了，你自己就用以前的吧。啥？你没有缓存以前的内容，关我啥事")])])]),t._v(" "),s("li",[s("p",[t._v("400 Bad Request：语义有误，当前请求无法被服务器理解。")]),t._v(" "),s("p",[s("code",[t._v("你给我发的是个啥啊，我听都听不懂")])])]),t._v(" "),s("li",[s("p",[t._v("403 Forbidden：服务器拒绝执行。")]),t._v(" "),s("p",[s("code",[t._v("你的请求我已收到，但是我就是不给你东西")])])]),t._v(" "),s("li",[s("p",[t._v("404 Not Found：资源不存在。")]),t._v(" "),s("p",[s("code",[t._v("你的请求我收到了，但我没有你要的东西")])])]),t._v(" "),s("li",[s("p",[t._v("500 Internal Server Error：服务器内部错误。")]),t._v(" "),s("p",[s("code",[t._v("你的请求我已收到，但这道题我不会，解不出来，先睡了")])])])]),t._v(" "),s("h5",{attrs:{id:"响应头-content-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#响应头-content-type"}},[t._v("#")]),t._v(" 响应头 - "),s("code",[t._v("Content-Type")])]),t._v(" "),s("p",[s("code",[t._v("Content-Type")]),t._v("标注了附带的响应体是什么格式")]),t._v(" "),s("p",[t._v("常见的值有：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("text/plain")]),t._v(": 普通的纯文本")]),t._v(" "),s("li",[s("code",[t._v("text/html")]),t._v("：html文档")]),t._v(" "),s("li",[s("code",[t._v("text/javascript")]),t._v(" 或 "),s("code",[t._v("application/javascript")]),t._v("：js代码")]),t._v(" "),s("li",[s("code",[t._v("text/css")]),t._v("：css代码")]),t._v(" "),s("li",[s("code",[t._v("image/jpeg")]),t._v("：jpg图片")]),t._v(" "),s("li",[s("code",[t._v("attachment")]),t._v("：附件")]),t._v(" "),s("li",[t._v("其他"),s("code",[t._v("MIME")]),t._v("类型")])]),t._v(" "),s("h2",{attrs:{id:"思考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#思考"}},[t._v("#")]),t._v(" 思考")]),t._v(" "),s("p",[t._v("根据这节课学到的知识，思考一个问题：如果不使用浏览器，是否能够完成页面浏览？")])])}),[],!1,null,null,null);a.default=v.exports}}]);