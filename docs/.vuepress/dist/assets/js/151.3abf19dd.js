(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{581:function(t,a,s){"use strict";s.r(a);var e=s(34),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vue常见优化手段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue常见优化手段"}},[t._v("#")]),t._v(" vue常见优化手段")]),t._v(" "),s("h2",{attrs:{id:"使用key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用key"}},[t._v("#")]),t._v(" 使用key")]),t._v(" "),s("p",[t._v("对于通过循环生成的列表，应给每个列表项一个稳定且唯一的key，这有利于在列表变动时，尽量少的删除、新增、改动元素")]),t._v(" "),s("h2",{attrs:{id:"使用冻结的对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用冻结的对象"}},[t._v("#")]),t._v(" 使用冻结的对象")]),t._v(" "),s("p",[t._v("冻结的对象不会被响应化")]),t._v(" "),s("h2",{attrs:{id:"使用函数式组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用函数式组件"}},[t._v("#")]),t._v(" 使用函数式组件")]),t._v(" "),s("p",[t._v("参见"),s("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/guide/render-function.html#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("函数式组件"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"使用计算属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用计算属性"}},[t._v("#")]),t._v(" 使用计算属性")]),t._v(" "),s("p",[t._v("如果模板中某个数据会使用多次，并且该数据是通过计算得到的，使用计算属性以缓存它们")]),t._v(" "),s("h2",{attrs:{id:"非实时绑定的表单项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非实时绑定的表单项"}},[t._v("#")]),t._v(" 非实时绑定的表单项")]),t._v(" "),s("p",[t._v("当使用"),s("code",[t._v("v-model")]),t._v("绑定一个表单项时，当用户改变表单项的状态时，也会随之改变数据，从而导致"),s("code",[t._v("vue")]),t._v("发生重渲染（"),s("code",[t._v("rerender")]),t._v("），这会带来一些性能的开销。")]),t._v(" "),s("p",[t._v("我们可以通过使用"),s("code",[t._v("lazy")]),t._v("或不使用"),s("code",[t._v("v-model")]),t._v("的方式解决该问题，但要注意，这样可能会导致在某一个时间段内数据和表单项的值是不一致的。")]),t._v(" "),s("h2",{attrs:{id:"保持对象引用稳定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保持对象引用稳定"}},[t._v("#")]),t._v(" 保持对象引用稳定")]),t._v(" "),s("p",[t._v("在绝大部分情况下，"),s("code",[t._v("vue")]),t._v("触发"),s("code",[t._v("rerender")]),t._v("的时机是其依赖的数据发生"),s("strong",[t._v("变化")])]),t._v(" "),s("p",[t._v("若数据没有发生变化，哪怕给数据重新赋值了，"),s("code",[t._v("vue")]),t._v("也是不会做出任何处理的")]),t._v(" "),s("p",[t._v("下面是"),s("code",[t._v("vue")]),t._v("判断数据"),s("strong",[t._v("没有变化")]),t._v("的源码")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasChanged")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" y\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" y\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("因此，如果需要，只要能保证组件的依赖数据不发生变化，组件就不会重新渲染。")]),t._v(" "),s("p",[t._v("对于原始数据类型，保持其值不变即可")]),t._v(" "),s("p",[t._v("对于对象类型，保持其引用不变即可")]),t._v(" "),s("p",[t._v("从另一方面来说，由于可以通过保持属性引用稳定来避免子组件的重渲染，那么我们应该细分组件来尽量避免多余的渲染")]),t._v(" "),s("h2",{attrs:{id:"使用v-show替代v-if"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用v-show替代v-if"}},[t._v("#")]),t._v(" 使用v-show替代v-if")]),t._v(" "),s("p",[t._v("对于频繁切换显示状态的元素，使用v-show可以保证虚拟dom树的稳定，避免频繁的新增和删除元素，特别是对于那些内部包含大量dom元素的节点，这一点极其重要")]),t._v(" "),s("p",[t._v("关键字：频繁切换显示状态、内部包含大量dom元素")]),t._v(" "),s("h2",{attrs:{id:"使用延迟装载-defer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用延迟装载-defer"}},[t._v("#")]),t._v(" 使用延迟装载（defer）")]),t._v(" "),s("p",[t._v("JS传输完成后，浏览器开始执行JS构造页面。")]),t._v(" "),s("p",[t._v("但可能一开始要渲染的组件太多，不仅JS执行的时间很长，而且执行完后浏览器要渲染的元素过多，从而导致页面白屏")]),t._v(" "),s("p",[t._v("一个可行的办法就是"),s("strong",[t._v("延迟装载组件")]),t._v("，让组件按照指定的先后顺序依次一个一个渲染出来")]),t._v(" "),s("blockquote",[s("p",[t._v("延迟装载是一个思路，本质上就是利用"),s("code",[t._v("requestAnimationFrame")]),t._v("事件分批渲染内容，它的具体实现多种多样")])]),t._v(" "),s("h2",{attrs:{id:"使用keep-alive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用keep-alive"}},[t._v("#")]),t._v(" 使用keep-alive")]),t._v(" "),s("h2",{attrs:{id:"长列表优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#长列表优化"}},[t._v("#")]),t._v(" 长列表优化")]),t._v(" "),s("h2",{attrs:{id:"打包体积优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包体积优化"}},[t._v("#")]),t._v(" 打包体积优化")])])}),[],!1,null,null,null);a.default=r.exports}}]);