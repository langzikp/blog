(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{562:function(t,e,a){"use strict";a.r(e);var s=a(34),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"企业级项目分支管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#企业级项目分支管理"}},[t._v("#")]),t._v(" 企业级项目分支管理")]),t._v(" "),a("h2",{attrs:{id:"为何要进行分支管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为何要进行分支管理"}},[t._v("#")]),t._v(" 为何要进行分支管理")]),t._v(" "),a("ul",[a("li",[t._v("分支之间互不影响，开发者可以独立开发，提高团队开发效率；")]),t._v(" "),a("li",[t._v("不同功能的分支形成代码隔离，发布时从主分支进行代码发布，测试在测试分支，开发在开发分支，减少出错。")])]),t._v(" "),a("h2",{attrs:{id:"分支管理策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支管理策略"}},[t._v("#")]),t._v(" 分支管理策略")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("master")]),t._v("分支")])]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("主分支，用于部署生产环境的分支，是所有分支的主干，与当前线上代码保持统一")]),t._v(" "),a("li",[t._v("由主开发人员、研发组leader管控")]),t._v(" "),a("li",[t._v("不允许开发者在该分支上直接开发")])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("dev")]),t._v("分支：")])]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("开发分支，开发各类功能的合并分支，即当前最新功能的分支")]),t._v(" "),a("li",[t._v("项目按功能模块创建dev-xxx分支(xxx 表示"),a("strong",[t._v("功能")]),t._v("的简单描述)，各人员开发完成后提交到"),a("code",[t._v("dev")]),t._v("分支，主开发人员审核后，合并到dev分支")]),t._v(" "),a("li",[t._v("一般预发布分支从此分支拉取创建")]),t._v(" "),a("li",[t._v("不允许开发者在该分支上直接开发")])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("feature")]),t._v("分支")])]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("功能分支，一般为 开发独立功能/新技术研究尝试 时创建，以feature-xxx命名(xxx 表示"),a("strong",[t._v("功能")]),t._v("的简单描述)")]),t._v(" "),a("li",[t._v("从"),a("code",[t._v("master")]),t._v("/"),a("code",[t._v("dev")]),t._v("分支上面分出来的，开发完成，合并回去之后，删除该分支")]),t._v(" "),a("li",[t._v("开发周期较长时，建议定期拉取代码，避免长时间不更新，提交时冲突过多")])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("release")]),t._v("分支")])]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("预发布分支，发布正式版本之前（即合并到"),a("code",[t._v("master")]),t._v("分支之前），用来进行测试，以"),a("code",[t._v("release-xxx")]),t._v("命名(xxx 表示"),a("strong",[t._v("功能")]),t._v("的简单描述)")]),t._v(" "),a("li",[t._v("从dev分支拉取代码创建，如出现"),a("code",[t._v("bug")]),t._v("，则从"),a("code",[t._v("release")]),t._v("分支拉取"),a("code",[t._v("fixbug")]),t._v("分支，进行修复")]),t._v(" "),a("li",[t._v("很多公司忽略该分支，直接提交到"),a("code",[t._v("master")]),t._v("进行发布，可根据公司情况进行选择")]),t._v(" "),a("li",[t._v("不允许开发者在该分支上开发")])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("fixbug")]),t._v("分支")])]),t._v(" "),a("blockquote",[a("ol",[a("li",[a("code",[t._v("bug")]),t._v("修复分支，修复完成之后，合并到"),a("code",[t._v("master")]),t._v("/"),a("code",[t._v("release")]),t._v("分支上，并删除该分支")]),t._v(" "),a("li",[t._v("常规"),a("code",[t._v("bug")]),t._v("，以 "),a("code",[t._v("bugfix_xxx")]),t._v(" 命名。xxx 表示 bug 的简单描述。")]),t._v(" "),a("li",[t._v("紧急"),a("code",[t._v("bug")]),t._v("， 以 "),a("code",[t._v("hotfix_xxx")]),t._v(" 命名。xxx 表示 bug 的简单描述")])])]),t._v(" "),a("p",[a("strong",[t._v("tag标签")])]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("每次从"),a("code",[t._v("master")]),t._v("发布生产环境后，用tag标记一个版本，在master分支上的每个tag都对应历史的一个线上版本")]),t._v(" "),a("li",[t._v("tag命名：v主版本号.子版本号.阶段版本号.日期版本号_软件阶段（v1.0.0.051021_beta, v1.0.0.061021_release）")])])]),t._v(" "),a("p",[a("strong",[t._v("长期存在的分支只有master和dev分支，其他分支都是多个且临时的")])]),t._v(" "),a("h2",{attrs:{id:"分支权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支权限"}},[t._v("#")]),t._v(" 分支权限")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("权限等级     ")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("赋权角色")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("创建者")]),t._v(" "),a("td",[t._v("拥有项目的最高权限，包括删除项目、管理成员、设置权限，一般由开发组leader来创建项目")]),t._v(" "),a("td",[t._v("开发组leader")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("管理员")]),t._v(" "),a("td",[t._v("项目管理管理员除了删除项目和清空项目外，拥有其他的全部权限")]),t._v(" "),a("td",[t._v("团队leader、运维管理人员")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("开发者")]),t._v(" "),a("td",[t._v("项目开发者拥有项目代码拉取、开发、提交等权限")]),t._v(" "),a("td",[t._v("开发人员")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("观察者")]),t._v(" "),a("td",[t._v("项目观察者可以克隆代码，但是不能提交")]),t._v(" "),a("td",[t._v("品质保证（OA）、产品经理（PM）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("报告者")]),t._v(" "),a("td",[t._v("报告者只能创建issue、评论，不能读写代码")]),t._v(" "),a("td",[t._v("访客、测试")])])])]),t._v(" "),a("h2",{attrs:{id:"注意点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意点"}},[t._v("#")]),t._v(" 注意点")]),t._v(" "),a("ul",[a("li",[t._v("合并分支时建议使用"),a("code",[t._v("–no-ff")]),t._v("，用于禁止快进式合并")]),t._v(" "),a("li",[t._v("临时分支合并后，应删除")]),t._v(" "),a("li",[t._v("分支合并不建议使用rebase")])]),t._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),a("ul",[a("li",[t._v("创建并切换到分支feature-a")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b feature-a\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 相当于执行下面两条命令")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch feature-a\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout feature-a\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ul",[a("li",[t._v("合并分支")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge feature-a "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 快速合并")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge --no-ff feature-a "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 非快速合并（建议使用）")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[t._v("暂存"),a("br"),t._v("\n将git工作区的代码更改暂存，之后就可以执行git pull、git merge之类的命令")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暂存")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash save "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"暂存的备注"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash list\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 恢复并移除")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" stash pop\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("ul",[a("li",[t._v("选择一个commit，合并进当前分支"),a("br"),t._v("\n在master分支上修复的bug，想要合并到当前dev分支，把bug提交的修改“复制”到当前分支，避免重复劳动")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" cherry-pick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[a("strong",[t._v("1. 长期存在的分支只有master和dev分支，其他分支都是多个且临时的")]),a("br"),t._v(" "),a("strong",[t._v("2. 根据公司的产品规划及项目大小，制定合理的规范")])]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("参考文档")]),a("br"),t._v(" "),a("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/896043488029600/896954848507552",target:"_blank",rel:"noopener noreferrer"}},[t._v("廖雪峰Git分支管理"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/qq_24950043/article/details/126190740",target:"_blank",rel:"noopener noreferrer"}},[t._v("企业级GIT分支管控方案"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/539701434",target:"_blank",rel:"noopener noreferrer"}},[t._v("图解如何管理Git分支"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/weixin_42092278/article/details/90448721",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git代码管理及使用规范"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/formylovetm/article/details/103294960",target:"_blank",rel:"noopener noreferrer"}},[t._v("git merge之--no-ff 的作用"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/weixin_42310154/article/details/119004977",target:"_blank",rel:"noopener noreferrer"}},[t._v("git rebase详解"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=v.exports}}]);