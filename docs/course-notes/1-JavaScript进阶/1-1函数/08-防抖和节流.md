# 08-防抖和节流
## 防抖
高频触发事件，结束一定时间后，只执行最后一次触发
```js
// 防抖简易实现
let debounce = function (fn, delay) {
  let timer = null;
  return function () {
      if (timer) {
        clearTimeout(timer);
        timer = null;
      };
      timer = setTimeout(() => {
          fn.apply(this, arguments);
      }, delay);
  }
}
```

```js
// 防抖立即执行版
let debounce = function(fn, wait = 1000, immediate = false) {
    let timer = null;
    return function() {
        if (timer) {
            clearTimeout(timer);
        }
        if (immediate) {
            let callNow = !timer; 
            timer = setTimeout(()=>{
                timer = null;
            }, wait);
             if (callNow) {
               fn.apply(this, arguments);
            }
        } else {
            timer = setTimeout(() => {
                fn.apply(this, arguments);
            }, wait);
        }
    }
}
```
[防抖实现](https://www.jianshu.com/p/82f8237640f2)

## 节流
高频触发事件，让他在一定的时间间隔后触发，或者再上一次事件执行完成后再触发
```js
// 节流简易实现
let throttle = function (fn, delay) {
  let valid = true;
  return function () {
      if (valid) {
          valid = false;
          setTimeout(() => {
              fn.apply(this, arguments);
              valid = true;
          }, delay);
      }
  }
}
```

## 总结
### 防抖和节流的相同点
防抖和节流都是为了阻止操作高频触发，从而浪费性能


### 防抖和节流的区别
- 防抖是多次触发，只生效最后一次。适用于我们只需要一次触发的场景。
- 节流持续触发事件，每隔一段时间，只执行一次事件。适用于多次触发多次生效的场景。  


[节流（throttle）与防抖（debounce）](https://www.jianshu.com/p/566c66aafa22)